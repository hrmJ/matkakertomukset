
```{r load, echo=FALSE}
library(pander)
library(knitr)
library(jsonlite)
library(ggplot2)
headverbs <- as.data.frame(fromJSON("../data/headverbs.json"))
genstats <- as.data.frame(fromJSON("../data/genstats.json"))

panderOptions('table.alignment.default', function(df) ifelse(sapply(df, is.numeric), 'right', 'left'))
panderOptions('table.split.table',400)

```

### Yleisiä tilastoja

Kaiken kaikkiaan teksteistä voidaan antaa seuraavat yleiset tiedot:

* Tekstejä ylipäätään: `r genstats["tekstit"]`
* Tekstejä, joissa ei käsitellä asumista  ollenkaan: `r genstats["kpl_0"]`
* Tekstejä, joissa 1 kpl asumista: `r genstats["kpl_1"]`
* Tekstejä, joissa 2 kpl asumista: `r genstats["kpl_2"]`
* Tekstejä, joissa 3 kpl asumista: `r genstats["kpl_3"]`
* Tekstejä, joissa enemmän kuin 3 kpl asumista: `r genstats["kpl_n"]`
* Asumista käsitteleviä kappaleita yhteensä: `r genstats["asumiskappaleet"]`


### Tilastoja pääverbeistä


Katsotaan yleisesti jotakin, mitä pääverbeistä voisi saada irti.
Jos otetaan

* tekstistä riippumatta kaikki kappaleet, jossa käsitellään asumista, 
* näistä kappaleista jokainen virke erikseen
* virkkeestä irti se, mikä on virkkeen ROOT-elementti

saadaan tulokseksi, että 20 suosituinta verbiä ovat:

```{r genheadverbsats, echo=FALSE}

hvtab <- table(headverbs$lemma)
hvdf <- as.data.frame(hvtab[order(hvtab,decreasing=T)][1:20])
colnames(hvdf) <- c("Lemma","Frekvenssi")
kable(hvdf)

```

Tämä ei tietysti vielä ole millään tavalla hyödyllistä, mutta antaa
jonkinlaista yleiskuvaa siitä, että samat verbit todella kiertävät teksteissä.

Pohditaan seuraavaksi sitä, mihin kohtaan kappaletta yleensä sijoittuvat 
ensimmäisessä persoonassa esiintyvät verbit, mihin kohtaan toisessa ja niin edelleen.


```{r persheadverbsats1, echo=FALSE}

headverbs$pers <- as.factor(headverbs$pers)
hist(headverbs$sentence_number, headverbs$pers)

qplot(headverbs$sentence_number,headverbs$pers)


```
